<!-- components/pedido.html -->
<section class="py-16 lg:py-28 footer-gradient">
  <div class="container mx-auto px-4 max-w-6xl">
    <div class="text-center mb-12">
      <h2 class="text-4xl md:text-5xl lg:text-6xl font-black text-pink-600 mb-6">
        ¿LISTO PARA PECAR?
      </h2>
      <p class="text-xl text-gray-700 max-w-3xl mx-auto">
        La única manera de acabar con la tentación es caer en ella
      </p>
    </div>

    <!-- Formulario principal -->
    <form id="orderForm" class="space-y-12">
      <!-- Información Personal -->
      <div class="form-section bg-white p-6 sm:p-8 rounded-xl shadow-lg">
        <h3 class="section-title text-xl sm:text-2xl lg:text-3xl font-semibold mb-4 sm:mb-6">Información Personal</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Nombre *</label>
            <input type="text" name="nombre" id="nombre" required class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm sm:text-base">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Teléfono *</label>
            <input type="tel" name="telefono" id="telefono" required class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm sm:text-base">
          </div>
          <div class="sm:col-span-2">
            <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
            <input type="email" name="email" id="email" required class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm sm:text-base">
          </div>
        </div>
      </div>

      <!-- Tipo de Producto -->
      <div class="form-section bg-white p-6 sm:p-8 rounded-xl shadow-lg">
        <h3 class="section-title text-xl sm:text-2xl lg:text-3xl font-semibold mb-4 sm:mb-6">Tipo de Producto</h3>
        <div class="flex flex-col sm:flex-row flex-wrap gap-4 sm:gap-6 justify-center sm:justify-start">
          <label class="checkbox-custom">
            <input type="radio" name="tipoProducto" value="tartas-cheesecakes" onchange="toggleProductOptions()">
            <span class="checkmark"></span> Tartas y Cheesecakes
          </label>
          <label class="checkbox-custom">
            <input type="radio" name="tipoProducto" value="cupcakes" onchange="toggleProductOptions()">
            <span class="checkmark"></span> Cupcakes
          </label>
          <label class="checkbox-custom">
            <input type="radio" name="tipoProducto" value="personalizado" onchange="toggleProductOptions()">
            <span class="checkmark"></span> Pedido Personalizado
          </label>
        </div>
      </div>

      <!-- Tartas y Cheesecakes (se muestra/oculta con JS) -->
      <div id="tartasSection" class="form-section conditional-field bg-white p-6 sm:p-8 rounded-xl shadow-lg hidden">
        <!-- Aquí el contenido de tartas y cheesecakes que ya tenías -->
        <!-- ... (mantengo tu código original de productos, solo añado openModal correcto) ... -->
        <!-- Ejemplo de un producto -->
        <div class="product-card border-2 border-gray-200 rounded-lg p-4 hover:border-pink-300 transition-colors" onclick="selectProduct('marcos-no-me-tientes')">
          <div class="flex justify-between items-start mb-3">
            <label class="checkbox-custom block cursor-pointer flex-1">
              <input type="radio" name="tartaSeleccionada" value="marcos-no-me-tientes" onchange="calculatePrice()">
              <span class="checkmark"></span>
              <span class="font-medium">Marcos No Me Tientes</span>
            </label>
            <button type="button" onclick="event.stopPropagation(); openModal({ productId: 'marcos-no-me-tientes' })" class="text-pink-600 hover:text-pink-800 text-sm font-medium ml-2">
              ℹ️ Info
            </button>
          </div>
          <p class="text-xs text-gray-600">Deliciosa tarta con capas de bizcocho y crema</p>
        </div>
        <!-- Repite el mismo patrón para todos los productos, cambiando el ID -->
        <!-- ... resto de productos ... -->

        <!-- Tamaño -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Tamaño</label>
          <select id="tamanoTarta" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm sm:text-base" onchange="calculatePrice()">
            <option value="">Seleccionar tamaño</option>
            <option value="pequena">Pequeña (6-8 personas) - desde 25€</option>
            <option value="mediana">Mediana (10-12 personas) - desde 35€</option>
            <option value="grande">Grande (15-20 personas) - desde 45€</option>
            <option value="xl">Extra Grande (25+ personas) - desde 55€</option>
          </select>
        </div>
      </div>

      <!-- Cupcakes Section (id y funciones correctas) -->
      <div id="cupcakesSection" class="form-section conditional-field bg-white p-6 sm:p-8 rounded-xl shadow-lg hidden">
        <!-- ... tu código original de cupcakes ... -->
      </div>

      <!-- Personalizado Section -->
      <div id="personalizadoSection" class="form-section conditional-field bg-white p-6 sm:p-8 rounded-xl shadow-lg hidden">
        <!-- ... tu código original de personalizado ... -->
      </div>

      <!-- Resto de secciones: Personalización, Datos de Entrega, Calculadora, etc. -->
      <!-- ... mantengo todo tu código original ... -->

      <!-- Botón de Envío -->
      <div class="text-center pt-6 sm:pt-8">
        <button type="submit" class="btn-primary text-white px-8 sm:px-12 py-3 sm:py-4 rounded-xl font-semibold text-lg sm:text-xl shadow-xl w-full sm:w-auto transform transition-all duration-300 hover:scale-105">
          Enviar Pedido
        </button>
      </div>
    </form>

    <!-- Mensaje de éxito -->
    <div id="successMessage" class="hidden text-center py-20">
      <div class="text-8xl mb-8"></div>
      <h3 class="text-4xl lg:text-5xl font-black text-pink-600 mb-6">
        ¡Pedido enviado con éxito!
      </h3>
      <p class="text-xl lg:text-2xl text-gray-700 max-w-3xl mx-auto">
        Hemos recibido tu solicitud. Te contactaremos en menos de 24 horas con el presupuesto definitivo y todos los detalles.
      </p>
    </div>
  </div>
</section>

<!-- EmailJS SDK + Inicialización (añadir al final del archivo o en main.js) -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script type="text/javascript">
  (function() {
    emailjs.init("YOUR_PUBLIC_KEY"); // ← Reemplaza con tu Public Key (User ID) de EmailJS
  })();
</script>
